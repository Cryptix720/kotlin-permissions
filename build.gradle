// Top-level build file where you can add configuration options common to all sub-projects/modules.
apply plugin: "org.jetbrains.kotlin.plugin.noarg"
apply plugin: "org.jetbrains.kotlin.kapt"
apply plugin: "org.jetbrains.kotlin.jvm"
apply plugin: "org.jetbrains.kotlin.android.extensions"


buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
        jcenter()
        google()



    }

    dependencies {
        classpath 'com.android.tools.build:gradle:3.1.3'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$KOTLIN_VERSION"
        classpath "com.novoda:bintray-release:$BINTRAY_PLUGIN_VERSION"
        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:$JFROG_PLUGIN_VERSION"
        classpath "org.jetbrains.kotlin:kotlin-noarg:1.2.50"
    }
}

def generatePomFilesTask = tasks.create("generatePomFiles")

allprojects {
    repositories {
        jcenter()
        google()
    }

    tasks.whenTaskAdded {
        if (it.name.matches("generatePomFileFor([A-Z][a-zA-Z]*)Publication")) {
            generatePomFilesTask.dependsOn it
        }
    }
}
